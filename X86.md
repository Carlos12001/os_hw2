# Examples of x86 Assembly

### Moving Data in x86 Assembly

#### Example 1: MOVSB

```asm
; Example 1: MOVSB
section .data
source db 'Hello, world!', 0
destination db 20 dup(0)

section .text
global _start
_start:
    ; Initialize registers
    mov si, source
    mov di, destination
    mov cx, 13       ; Length of the string including null terminator

    cld              ; Ensure increment
    rep movsb        ; Move the string byte by byte

    ; Termination code could go here

```

#### Example 2: MOVSW

```asm
; Example 2: MOVSW
section .data
source dw 'H', 'e', 'l', 'l', 'o', 0
destination dw 10 dup(0)

section .text
global _start
_start:
    ; Initialize registers
    mov si, source
    mov di, destination
    mov cx, 5        ; Number of words

    cld              ; Ensure increment
    rep movsw        ; Move the string word by word
```

#### Example 3: MOVSD

```asm
; Example 3: MOVSD
section .data
source dd 'Hell', 'o, w', 'orld', '!', 0
destination dd 5 dup(0)

section .text
global _start
_start:
    ; Initialize registers
    mov si, source
    mov di, destination
    mov cx, 4        ; Number of double words

    cld              ; Ensure increment
    rep movsd        ; Move the string double word by double word
```

### Compare x86 Assembly

#### Example 4: CMPSB

```asm
; Example 4: CMPSB
section .data
str1 db 'abc', 0
str2 db 'abc', 0

section .text
global _start
_start:
    mov si, str1
    mov di, str2
    mov cx, 3        ; Length of strings to compare

    cld
    repe cmpsb       ; Compare until a difference is found or CX = 0

    ; Termination code could go here
```

#### Example 5: CMPSW

```asm
; Example 5: CMPSW
section .data
str1 dw 'ab', 'cd', 0
str2 dw 'ab', 'cd', 0

section .text
global _start
_start:
    mov si, str1
    mov di, str2
    mov cx, 2        ; Number of words to compare

    cld
    repe cmpsw

```

#### Example 6: CMPSD

```asm
; Example 5: CMPSW
section .data
str1 dw 'ab', 'cd', 0
str2 dw 'ab', 'cd', 0

section .text
global _start
_start:
    mov si, str1
    mov di, str2
    mov cx, 2        ; Number of words to compare

    cld
    repe cmpsw

```

### Search x86 Assembly

#### Example 7: SCASB

```asm
; Example 7: SCASB
section .data
data db 'hello', 0

section .text
global _start
_start:
    mov di, data     ; DI points to the string
    mov al, 'o'      ; AL contains the byte to search for
    mov cx, 5        ; Length of the string

    cld
    repne scasb      ; Search for 'o' in the string

    ; Termination code could go here
```

#### Example 8: SCASW

```asm
; Example 8: SCASW
section .data
data dw 'he', 'll', 'o', 0

section .text
global _start
_start:
    mov di, data     ; DI points to the string
    mov ax, 'll'     ; AX contains the word to search for
    mov cx, 3        ; Number of words

    cld
    repne scasw      ; Search for 'll' in the string

```

#### Example 9: SCASD

```asm
; Example 9: SCASD
section .data
data dd 'hell', 'o', 0

section .text
global _start
_start:
    mov di, data     ; DI points to the string
    mov eax, 'o'     ; EAX contains the double word to search for
    mov cx, 2        ; Number of double words

    cld
    repne scasd      ; Search for 'o' in the string

```

### Load x86 Assembly

#### Example 10: LODSB

```asm
; Example 10: LODSB
section .data
source db 'Hello, world!', 0

section .text
global _start
_start:
    mov si, source   ; SI points to the source
    mov cx, 13       ; Number of bytes to load

    cld
    lodsb            ; Load the first byte into AL
```

#### Example 11: LODSW

```asm
; Example 11: LODSW
section .data
source dw 'He', 'll', 'o,', ' wo', 'rld', '!', 0

section .text
global _start
_start:
    mov si, source   ; SI points to the source
    mov cx, 6        ; Number of words to load

    cld
    lodsw            ; Load the first word into AX

```

#### Example 12: LODSD

```asm
; Example 12: LODSD
section .data
source dd 'Hell', 'o, w', 'orld', '!', 0

section .text
global _start
_start:
    mov si, source   ; SI points to the source
    mov cx, 4        ; Number of double words to load

    cld
    lodsd            ; Load the first double word into EAX

```

### Store x86 Assembly

#### Example 13: STOSB

```asm
; Example 13: STOSB
section .data
destination db 20 dup(0)

section .text
global _start
_start:
    mov di, destination  ; DI points to the destination
    mov al, 'A'          ; AL contains the byte to store
    mov cx, 1            ; Number of times to store

    cld
    stosb                ; Store the byte at the address pointed by DI
```

#### Example 14: STOSW

```asm
; Example 14: STOSW
section .data
destination dw 10 dup(0)

section .text
global _start
_start:
    mov di, destination  ; DI points to the destination
    mov ax, 'AB'         ; AX contains the word to store
    mov cx, 1            ; Number of times to store

    cld
    stosw                ; Store the word at the address pointed by DI
```

#### Example 15: STOSD

```asm
; Example 15: STOSD
section .data
destination dd 5 dup(0)

section .text
global _start
_start:
    mov di, destination  ; DI points to the destination
    mov eax, 'ABCD'      ; EAX contains the double word to store
    mov cx, 1            ; Number of times to store

    cld
    stosd                ; Store the double word at the address pointed by DI

```
